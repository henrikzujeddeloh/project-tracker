<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <link href="/css/output.css" rel="stylesheet" />
    <link rel="stylesheet" href="/assets/css/all.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Completed Projects</title>

    <style>
        .timeline {
            position: relative;
            width: 100%;
            height: 100px;
            background-color: #f3f4f6;
            margin-top: 20px;
            margin-bottom: 20px;
        }

        .project-bar {
            position: absolute;
            background-color: #4299e1;
            opacity: 0.7;
        }

        .month-lines {
            position: absolute;
            top: 0;
            bottom: 0;
            width: 100%;
            height: 100%;
        }

        .month-line {
            position: absolute;
            top: 0;
            bottom: 0;
            width: 1px;
            background-color: #dbdbdb;
        }
    </style>

</head>

<body class="m-4">
    <h2 class="text-3xl font-semibold mb-2">Completed Projects</h2>
    <a href="/" class="bg-gray-500 text-white px-2 py-1 rounded hover:bg-gray-700 mb-4">
        Back
    </a>

    <!-- Timeline container -->
    <div class="timeline" id="timeline"></div>

    <!-- JavaScript to create timeline -->
    <script>
        const projects = [
            // Array of projects with start and end dates
            {% for project in projects %}
        {% if project.status == 2 %}
        {
            startDate: new Date('{{ project.start_date }}'),
                endDate: new Date('{{ project.completion_date }}')
        },
        {% endif %}
        {% endfor %}
            ];
    </script>
    <script src="/js/timeline.js"></script>


    <ul>
        <li class="relative flex justify-between items-center border-b py-2">
            <span class="flex-1 overflow-hidden font-semibold">Project</span>
            <span class="flex-1 overflow-hidden font-semibold">Category</span>
            <span class="flex-1 overflow-hidden font-semibold">Finished</span>
            <div style="width: 42px;"></div>
        </li>

        {% for project in projects %}
        {% if project.status == 2 %}

        <!-- start list item -->
        <li class="flex justify-between items-center border-b py-2">


            <!-- project name -->
            <span class="flex-1 overflow-hidden overflow-ellipsis whitespace-nowrap">{{ project.name }}</span>

            <!-- project category -->
            <span class="flex-1 overflow-hidden overflow-ellipsis whitespace-nowrap">{{ project.category }}</span>

            <!-- project completion date -->
            <span class="flex-1 overflow-hidden overflow-ellipsis whitespace-nowrap">{{ project.completion_date
                }}</span>

            <!-- edit button -->
            <a href="/project/{{ project.id }}"
                class="bg-blue-500 text-white px-2 py-1 mr-1 ml-1 rounded hover:bg-blue-700">
                <i class="fa fa-edit"></i>
            </a>

        </li>

        {% endif %}
        {% endfor %}
    </ul>
</body>
